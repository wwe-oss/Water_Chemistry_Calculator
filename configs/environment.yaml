# ============================================================
#  environment.yaml
#  Global environmental parameters + user preferences
#  Fully commentable (YAML chosen for clarity)
# ============================================================

environment:

  ############################################################
  # Ambient Conditions
  ############################################################
  ambient:
    temperature:
      value: 70              # User-facing default temperature
      unit: "F"              # Fahrenheit input/display
      base_unit: "C"         # Canonical internal temperature unit
      notes: >
        Temperature is used for ATC corrections, Henry's law,
        equilibration estimates, CO2 off-gassing, and reagent
        dissociation constants.

    co2_ppm:
      value: 420
      min: 350
      max: 600
      notes: >
        Used for CO₂ equilibrium calculations (pH drift from
        atmospheric absorption). Adjustable for indoor/outdoor.

  ############################################################
  # Calculation / Solver Parameters
  ############################################################
  solver:
    max_iterations: 50
    relative_tolerance: 1e-12
    absolute_tolerance: 1e-14
    notes: >
      These tolerances are for pH solvers, alkalinity equations,
      acid/base equilibrium calculations, and nonlinear
      concentration solving.

  ############################################################
  # User Input Defaults
  ############################################################
  input_units:
    temperature: "F"
    volume: "gallon"
    mass: "gram"
    ec: "mS/cm"
    tds: "ppm"
    concentration: "mg/L"
    ph: "ph"
    notes: >
      Input defaults affect ONLY what the user enters.
      Internally everything is converted to canonical units
      defined in units.yaml.

  ############################################################
  # Display Defaults
  ############################################################
  display_units:
    temperature: "F"
    volume: "gallon"
    mass: "gram"
    ec: "mS/cm"
    tds: "ppm"
    concentration: "mg/L"
    ph: "ph"

  ############################################################
  # Global Defaults (Containers, Calibration, etc.)
  ############################################################
  defaults:
    mixing_container_volume:
      value: 5
      unit: "gallon"
      notes: >
        Default for your 5-gallon bucket. When no volume is
        given, the system falls back to this.

    calibration_recommendation_days: 30
    calibration_recommendation_readings: 200

  ############################################################
  # Physical Constants
  ############################################################
  constants:
    R: 8.31446261815324          # Universal gas constant (J/mol·K)
    kH_co2_25C: 0.0334           # Henry’s constant for CO₂ @25°C
    notes: >
      Constants may be temperature-corrected depending on the
      calculation path chosen in the engine.
